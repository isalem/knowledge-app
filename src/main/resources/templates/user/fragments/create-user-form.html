<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
>

<body>

<form id="create-user-form" th:fragment="create-user-form"
      action="#" th:action="${url}" th:object="${createUserForm}" method="post">
    <div class="alert alert-danger" role="alert" th:if="${#fields.hasErrors('*')}">
        <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name error</p>
        <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email error</p>
        <p th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username error</p>
        <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password error</p>
    </div>
    <div class="form-group"
         th:classappend="${#fields.hasErrors('name')} ? 'has-error' : ''">
        <label for="name">Name: </label>
        <input class="form-control" type="text" th:field="*{name}"/>
    </div>
    <div class="form-group"
         th:classappend="${#fields.hasErrors('email')} ? 'has-error' : ''">
        <label for="text">Email: </label>
        <input class="form-control" type="email" th:field="*{email}"/>
    </div>
    <div class="form-group"
         th:classappend="${#fields.hasErrors('username')} ? 'has-error' : ''">
        <label for="username">Username: </label>
        <input class="form-control" type="text" th:field="*{username}"/>
    </div>
    <div class="form-group"
         th:classappend="${#fields.hasErrors('password')} ? 'has-error' : ''">
        <label for="password">Password: </label>
        <input class="form-control" type="password" th:field="*{password}"/>
    </div>
    <div class="form-group">
        <label for="authoritie">Role: </label>
        <select class="form-control" th:field="*{authoritie}">
            <option th:each="authoritie : ${T(com.ness.app.domain.model.UserRole).values()}" th:value="${authoritie}"
                    th:text="${authoritie.getDescription()}"></option>
        </select>
    </div>
    <button type="submit" class="btn btn-default">Create</button>
</form>

<form th:fragment="info-success" th:remove="tag">
    <p>Form successfully submitted</p>
</form>

</body>
</html>
